@using Microsoft.AspNetCore.Identity
@using vroomnew.Models

@inject SignInManager<ApplicationUser> SignInManager
@inject UserManager<ApplicationUser> UserManager
@model IEnumerable<ApplicationUser>
@{
    ViewData["Title"] = "Users";
}

<h1>Users List</h1>
<div class="col-12">
    <table class="table table-striped border">
        <thead>
            <tr class="table-info">
                <th> User ID </th>
                <th>User Name</th>
                <th>User Email</th>
                <th></th>

            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model)
            {
                <tr>
                    <td> @item.Id</td>
                    <td>
                        @item.UserName  @if (item.UserName == UserManager.GetUserName(User))
                        {<span class="badge badge-pill badge-success">Admin</span>}
                    </td>
                    <td> @item.Email</td>
                    <partial name="_TableButtonPartial" model="@item.Id" />

                </tr>
            }

        </tbody>
    </table>
    @if (Model.Count() <= 0)
    {<p class="text-danger">There is no users to be shown </p>}
</div>

